<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="中文|English">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">


























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=6.7.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.7.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.7.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.7.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.7.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '6.7.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="OOD 可以看成是 High Level System Design 后的具体实现。 This blog is for Object Oriented Design, please revisit frequently to refresh. The notes are mainly from https://www.educative.io/. OOP Design video OOP: Obj">
<meta name="keywords" content="OOP design">
<meta property="og:type" content="article">
<meta property="og:title" content="OOP Design">
<meta property="og:url" content="http://yoursite.com/2020/03/29/design-OOD/index.html">
<meta property="og:site_name" content="海胆阶段&#39;s Blog">
<meta property="og:description" content="OOD 可以看成是 High Level System Design 后的具体实现。 This blog is for Object Oriented Design, please revisit frequently to refresh. The notes are mainly from https://www.educative.io/. OOP Design video OOP: Obj">
<meta property="og:locale" content="中文|English">
<meta property="og:updated_time" content="2020-05-01T16:40:43.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="OOP Design">
<meta name="twitter:description" content="OOD 可以看成是 High Level System Design 后的具体实现。 This blog is for Object Oriented Design, please revisit frequently to refresh. The notes are mainly from https://www.educative.io/. OOP Design video OOP: Obj">






  <link rel="canonical" href="http://yoursite.com/2020/03/29/design-OOD/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>OOP Design | 海胆阶段's Blog</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="中文|English">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">海胆阶段's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    
      
    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>About</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags<span class="badge">152</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories<span class="badge">43</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives<span class="badge">270</span></a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>Search</a>
        </li>
      
    </ul>
  

  
    

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="Searching..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/29/design-OOD/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="海胆阶段">
      <meta itemprop="description" content="骐骥一跃，不能十步；驽马十驾，功在不舍">
      <meta itemprop="image" content="/images/cuishao.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="海胆阶段's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">OOP Design

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2020-03-29 16:27:45" itemprop="dateCreated datePublished" datetime="2020-03-29T16:27:45-07:00">2020-03-29</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2020-05-01 09:40:43" itemprop="dateModified" datetime="2020-05-01T09:40:43-07:00">2020-05-01</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/OOP-Design/" itemprop="url" rel="index"><span itemprop="name">OOP Design</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>OOD 可以看成是 High Level System Design 后的具体实现。</p>
<p>This blog is for <code>Object Oriented Design</code>, please revisit frequently to refresh. The notes are mainly from <code>https://www.educative.io/</code>.</p>
<p><a href="https://www.youtube.com/watch?v=fJW65Wo7IHI&amp;list=PLGLfVvz_LVvS5P7khyR4xDp7T9lCk9PgE" target="_blank" rel="noopener">OOP Design video</a>
<code>OOP</code>: <code>Object-oriented programming</code>
<code>Design pattern</code>: singleton, factory, etc
<code>Concurrency</code></p>
<p>The four principles of object-oriented programming are encapsulation, abstraction, inheritance, and polymorphism.</p>
<p>The process of OO analysis and design can be described as:</p>
<ol>
<li>Identifying the objects in a system;</li>
<li>Defining relationships between objects;</li>
<li>Establishing the interface of each object;</li>
<li>Making a design, which can be converted to executables using OO languages.</li>
</ol>
<p>要清楚如何定义enum, constants abstract class, interface. 如何选择他们.</p>
<p><code>UML</code> stands for <code>Unified Modeling Language</code> and is used to model the Object-Oriented Analysis of a software system. UML is a way of visualizing and documenting a software system by using a collection of diagrams.</p>
<p>Be familiar with:</p>
<ol>
<li>use case diagram (actors， 不是指所有的object: admin, customer, system…)</li>
<li>class diagram (relationships)</li>
<li>sequence diagram (emphasize on interaction between objects, time series)</li>
<li>activity diagram (emphasize on control of flow)</li>
</ol>
<p><strong>Summary</strong>:
总的来看，通过class diagram，设计好基本的abstract class, interface, base class，然后再延伸，实例化。实例化的class中设计好attributes, method的实现。</p>
<ul>
<li>
<p>定义好enum, constants.</p>
</li>
<li>
<p>把不同的系统分开设计，比如notifiation, payment…</p>
</li>
<li>
<p>对于actor people，有一个account class, 被包含在person abstract class中，然后这个person被实例化为其他诸如guest, admin, member等class. (有类似关系的以此类推)</p>
</li>
<li>
<p>对于有查询需求的任务, search interface中声明search方法，然后被search的对象类implements, 在这个对象内部实现search的各种method, 通常需要与database连接。</p>
</li>
<li>
<p>可能会用到设计模式</p>
</li>
</ul>
<h3 id="Design-a-Library-Management-System">Design a Library Management System</h3>
<p>Library management systems help libraries keep track of the books and their checkouts, as well as members’ subscriptions and profiles.</p>
<ol>
<li>get clarity of the requirements, Be sure to ask questions to find the exact scope of the system that the interviewer has in mind</li>
</ol>
<p>找到actors之后，围绕actors就可以提出具体要求，可以做什么事情:
member can search book by title, name, date, category, author.
book has unique id, rack number, etc.
member can checkout, reserve book copies.
days a member can keep the book.
numbers a member can checkout.
collect fine if after due date.
system can send notification to user.
…</p>
<p>最后确认需具体要实现什么的功能？</p>
<ol start="2">
<li>
<p>use case diagram, define top use cases
从object角度, 看看各自可以有什么操作, 对具体的实现功能，画出具体的use case diagram。</p>
</li>
<li>
<p>class diagram
有几个问题:
要从high level考虑有哪些abstract class, enum, constant, interface等。
然后各自的依赖关系画一下。</p>
</li>
</ol>
<p>interface vs inheritace，什么时候谁合适?</p>
<p>在实现代码的时候，class diagram可以作为指导原则</p>
<ol start="4">
<li>
<p>activity diagram
画出具体实现<strong>某一</strong>功能的状态图</p>
</li>
<li>
<p>code
Since you are not required to write a fully executable code in an interview, you can assume parts of the code to interact with the database, payment system, etc…</p>
</li>
</ol>
<p>主要写出基本的部分:
Enums and Constants:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// enums</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> BookStatus</span><br><span class="line">&#123;</span><br><span class="line">  AVAILABLE,</span><br><span class="line">  RESERVED,</span><br><span class="line">  LOANED,</span><br><span class="line">  LOST</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> ReservationStatus</span><br><span class="line">&#123;</span><br><span class="line">  WAITING,</span><br><span class="line">  PENDING,</span><br><span class="line">  CANCELED,</span><br><span class="line">  NONE</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// constants</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Constants</span> </span>&#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MAX_BOOKS_ISSUED_TO_A_USER = <span class="number">5</span>;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MAX_LENDING_DAYS = <span class="number">10</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后是abstrace class, interface 和其他继承，实现的类，根据class diagram去实现，举几个例子:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// For simplicity, we are not defining getter and setter functions. The reader can</span></span><br><span class="line"><span class="comment">// assume that all class attributes are private and accessed through their respective</span></span><br><span class="line"><span class="comment">// public getter methods and modified only through their public methods function.</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Book</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> String ISBN;</span><br><span class="line">  <span class="keyword">private</span> String title;</span><br><span class="line">  <span class="keyword">private</span> String subject;</span><br><span class="line">  <span class="keyword">private</span> String publisher;</span><br><span class="line">  <span class="keyword">private</span> String language;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> numberOfPages;</span><br><span class="line">  <span class="keyword">private</span> List&lt;Author&gt; authors;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BookItem</span> <span class="keyword">extends</span> <span class="title">Book</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> String barcode;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">boolean</span> isReferenceOnly;</span><br><span class="line">  <span class="keyword">private</span> Date borrowed;</span><br><span class="line">  <span class="keyword">private</span> Date dueDate;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">double</span> price;</span><br><span class="line">  <span class="keyword">private</span> BookFormat format;</span><br><span class="line">  <span class="keyword">private</span> BookStatus status;</span><br><span class="line">  <span class="keyword">private</span> Date dateOfPurchase;</span><br><span class="line">  <span class="keyword">private</span> Date publicationDate;</span><br><span class="line">  <span class="keyword">private</span> Rack placedAt;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">checkout</span><span class="params">(String memberId)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(bookItem.getIsReferenceOnly()) &#123;</span><br><span class="line">      ShowError(<span class="string">"This book is Reference only and can't be issued"</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!BookLending.lendBook(<span class="keyword">this</span>.getBarCode(), memberId))&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.updateBookItemStatus(BookStatus.LOANED);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Rack</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> number;</span><br><span class="line">  <span class="keyword">private</span> String locationIdentifier;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// interface</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Search</span> </span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> List&lt;Book&gt; <span class="title">searchByTitle</span><span class="params">(String title)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> List&lt;Book&gt; <span class="title">searchByAuthor</span><span class="params">(String author)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> List&lt;Book&gt; <span class="title">searchBySubject</span><span class="params">(String subject)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> List&lt;Book&gt; <span class="title">searchByPubDate</span><span class="params">(Date publishDate)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Catalog</span> <span class="keyword">implements</span> <span class="title">Search</span> </span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">  <span class="keyword">private</span> HashMap&lt;String, List&lt;Book&gt;&gt; bookTitles;</span><br><span class="line">  <span class="keyword">private</span> HashMap&lt;String, List&lt;Book&gt;&gt; bookAuthors;</span><br><span class="line">  <span class="keyword">private</span> HashMap&lt;String, List&lt;Book&gt;&gt; bookSubjects;</span><br><span class="line">  <span class="keyword">private</span> HashMap&lt;String, List&lt;Book&gt;&gt; bookPublicationDates;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> List&lt;Book&gt; <span class="title">searchByTitle</span><span class="params">(String query)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// return all books containing the string query in their title.</span></span><br><span class="line">    <span class="keyword">return</span> bookTitles.get(query);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> List&lt;Book&gt; <span class="title">searchByAuthor</span><span class="params">(String query)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// return all books containing the string query in their author's name.</span></span><br><span class="line">    <span class="keyword">return</span> bookAuthors.get(query);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Design-parking-lot">Design parking lot</h3>
<p><a href="https://www.youtube.com/watch?v=DSGsa0pu8-k&amp;t=814s" target="_blank" rel="noopener">https://www.youtube.com/watch?v=DSGsa0pu8-k&amp;t=814s</a>
评论里有一些批评意见，可以参考。</p>
<ul>
<li>
<p>Identify the problem scope:
do you want me to come up a system design, or class hierarchy?
or should we get into certain specific question and wirte some methods?</p>
</li>
<li>
<p>How you approach the problem:
show a clear and systematic approach how you tackle this problem
how is the parking lot designed? building? open space? free or pay?
how many spots are we talking about? floors?
are there mutliple entrances or exits?
should we first fill out floor from top?
prices strategy? premium, general customer?</p>
</li>
</ul>
<p>进口的识别系统会识别plate number + vehicle type，然后再ticket上标明应该停放到哪个building，哪一层的哪个位置。(如果有多个entrance, 则有concurrency问题需要解决)</p>
<p>code some part of the design? which part do you want me to implement?
We have database backend but here for Simplicity can we assume we store the data in memory?</p>
<p>算法去实现spot -&gt; vehicle的分配。</p>
<ol>
<li>
<p>system requirements
multi-floors
multi-entries or exits
parking ticket
pay cash or credit card
pay at info panel or at exit
display message when full
different parking spots for different type car
electric car spots, charge station support
step price hourly</p>
</li>
<li>
<p>use case diagram
get clarity what functions we need to implement.</p>
</li>
<li>
<p>class diagram
ParkingLot
ParkingFloor
ParkingSpot
Account: admin and parking attendant
ParkingTicket
Vehicle: many types
Payment: credit card or cash
ParkingRate
ParkingDisplayBoard
ParkingAttendantPortal
CustomerInfoPortal
ElectricPanel</p>
</li>
<li>
<p>code
see: <a href="https://www.educative.io/courses/grokking-the-object-oriented-design-interview/gxM3gRxmr8Z" target="_blank" rel="noopener">https://www.educative.io/courses/grokking-the-object-oriented-design-interview/gxM3gRxmr8Z</a></p>
</li>
</ol>
<h3 id="Design-Amazon-online-shopping-system">Design Amazon online shopping system</h3>
<ol>
<li>get clarity</li>
</ol>
<ul>
<li>what scope do you want me to focus on?</li>
<li>high level design or dive into a specific function component, wirte class and method.</li>
</ul>
<p><code>Objects</code>: guest, member, admin and system
分别讨论一下各自可以做什么操作。</p>
<p>几个主要的system:
register, search, review, order, shipment, payment, notification.</p>
<ol start="2">
<li>use case diagram</li>
<li>activity diagram</li>
<li>sequence diagram</li>
</ol>
<h4 id="Design-shopify">Design shopify</h4>
<p><a href="https://www.youtube.com/watch?v=lEL4F_0J3l8" target="_blank" rel="noopener">shopify eCommerce platform</a>
类似于淘宝, 有自己的网店portal.</p>
<h3 id="Design-stack-overflow">Design stack overflow</h3>
<p>Stack Overflow is one of the largest online communities for developers to learn and share their knowledge.</p>
<p>Users of Stack Overflow can earn reputation points and badges. For example, a person is awarded ten reputation points for receiving an “up” vote on an answer and five points for the “up” vote of a question. The can also receive badges for their valued contributions. A higher reputation lets users unlock new privileges like the ability to vote, comment on, and even edit other people’s posts.</p>
<p><code>Actors</code>: admin, guest, member, system, moderator(close,delete,undelete question)</p>
<h3 id="Design-a-Movie-Ticket-Booking-System">Design a Movie Ticket Booking System</h3>
<ol>
<li>
<p>high level overview
movie theater -&gt; halls -&gt; moive -&gt; shows
search movie
select show and boot ticket
select seat
notification
payment
<strong>concurrency</strong> issue when booking:
在数据库层面实现的，没有使用Java的concurrency package
We can use transactions in SQL databases to avoid any clashes.
lock the rows before we update them
discount/coupon apply</p>
</li>
<li>
<p>use case diagram</p>
</li>
<li>
<p>class diagram</p>
</li>
<li>
<p>activity diagram</p>
</li>
</ol>
<h3 id="Design-ATM">Design ATM</h3>
<p>Automated teller machine (ATM)
withdraw and deposit money</p>
<p>components of ATM:
card reader
kaypad
screen
Cash dispenser
Deposit slot
printer
network</p>
<p>checking and saving account of user
都放在<strong>transaction中，保证原子性</strong>:
Balance inquiry
Deposit cash
Deposit check
Withdraw cash
Transfer funds</p>
<p>The ATM will maintain an internal log of transactions that contains information about hardware failures; this log will be used by the ATM operator to resolve any issues.</p>
<p><code>actors:</code>
operator
customer
bank manager
system</p>
<h3 id="Design-an-Airline-Management-System">Design an Airline Management System</h3>
<p>This system involves the scheduling of flights, air ticket reservations, flight cancellations, customer support, and staff management. Daily flights updates can also be retrieved by using the system.</p>
<p>roundtrip
one way
mutli-city</p>
<p>回忆一下预定的界面
departing
returning</p>
<h3 id="Design-a-Hotel-Management-System">Design a Hotel Management System</h3>
<p>和ticket booking类似
a online portal, keep track of available rooms, book rooms and generate bill.
booking of different room types like standard, deluxe, family suite, etc
housekeeping log to keep track of all housekeeping tasks</p>
<ol>
<li>
<p>use case diagram
guest
manager
system
housekeeper
Receptionist</p>
</li>
<li>
<p>class diagram</p>
</li>
<li>
<p>activity diagram</p>
</li>
</ol>
<h3 id="Restaurant-Management-system">Restaurant Management system</h3>
<p>同上，补充几个特点:
The system allows the manager to keep track of available tables in the system as well as the reservation of tables and bill generation.
这里是西餐的形式，没人一个座位，单独点餐。</p>
<p>menu -&gt; menu sections -&gt; items
rooms -&gt; tables (reservation or walk-in)</p>
<h3 id="Design-Facebook">Design Facebook</h3>
<p>Facebook is an online social networking service where users can connect with other users to post and read messages. Users access Facebook through their website interface or mobile apps.</p>
<h3 id="Design-LinkedIn">Design LinkedIn</h3>
<p>Similar to Facebook design but carter to professionals. 各种功能几乎就一样。</p>
<p>A LinkedIn member’s profile page, which emphasizes their skills, employment history, and education, has professional network news feeds with customizable modules.</p>
<ol>
<li>
<p>use case diagram
member
admin
system</p>
</li>
<li>
<p>class diagram</p>
</li>
<li>
<p>activity diagram</p>
</li>
</ol>

      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/OOP-design/" rel="tag"># OOP design</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/03/19/linux-cmd-collect/" rel="next" title="Linux Commands Collect">
                <i class="fa fa-chevron-left"></i> Linux Commands Collect
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/04/02/k8s-local-persistent-volume/" rel="prev" title="Local Persistent Volume">
                Local Persistent Volume <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/cuishao.png" alt="海胆阶段">
            
              <p class="site-author-name" itemprop="name">海胆阶段</p>
              <p class="site-description motion-element" itemprop="description">骐骥一跃，不能十步；驽马十驾，功在不舍</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">270</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">43</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">152</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#Design-a-Library-Management-System"><span class="nav-number">1.</span> <span class="nav-text">Design a Library Management System</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Design-parking-lot"><span class="nav-number">2.</span> <span class="nav-text">Design parking lot</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Design-Amazon-online-shopping-system"><span class="nav-number">3.</span> <span class="nav-text">Design Amazon online shopping system</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Design-shopify"><span class="nav-number">3.1.</span> <span class="nav-text">Design shopify</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Design-stack-overflow"><span class="nav-number">4.</span> <span class="nav-text">Design stack overflow</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Design-a-Movie-Ticket-Booking-System"><span class="nav-number">5.</span> <span class="nav-text">Design a Movie Ticket Booking System</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Design-ATM"><span class="nav-number">6.</span> <span class="nav-text">Design ATM</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Design-an-Airline-Management-System"><span class="nav-number">7.</span> <span class="nav-text">Design an Airline Management System</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Design-a-Hotel-Management-System"><span class="nav-number">8.</span> <span class="nav-text">Design a Hotel Management System</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Restaurant-Management-system"><span class="nav-number">9.</span> <span class="nav-text">Restaurant Management system</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Design-Facebook"><span class="nav-number">10.</span> <span class="nav-text">Design Facebook</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Design-LinkedIn"><span class="nav-number">11.</span> <span class="nav-text">Design LinkedIn</span></a></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2019 – <span itemprop="copyrightYear">2023</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Chengdong Liao</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v6.7.0</div>





  <script src="https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js"></script>
  <script>
    if (window.mermaid) {
      mermaid.initialize("");
    }
  </script>

        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=6.7.0"></script>

  <script src="/js/src/motion.js?v=6.7.0"></script>



  
  

  
  <script src="/js/src/scrollspy.js?v=6.7.0"></script>
<script src="/js/src/post-details.js?v=6.7.0"></script>



  


  <script src="/js/src/bootstrap.js?v=6.7.0"></script>



  



  











  

  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  

  

  

  

  

  

  

  
  <style>
    .copy-btn {
      display: inline-block;
      padding: 6px 12px;
      font-size: 13px;
      font-weight: 700;
      line-height: 20px;
      color: #333;
      white-space: nowrap;
      vertical-align: middle;
      cursor: pointer;
      background-color: #eee;
      background-image: linear-gradient(#fcfcfc, #eee);
      border: 1px solid #d5d5d5;
      border-radius: 3px;
      user-select: none;
      outline: 0;
    }

    .highlight-wrap .copy-btn {
      transition: opacity .3s ease-in-out;
      opacity: 0;
      padding: 2px 6px;
      position: absolute;
      right: 4px;
      top: 8px;
    }

    .highlight-wrap:hover .copy-btn,
    .highlight-wrap .copy-btn:focus {
      opacity: 1
    }

    .highlight-wrap {
      position: relative;
    }
  </style>
  <script>
    $('.highlight').each(function (i, e) {
      var $wrap = $('<div>').addClass('highlight-wrap');
      $(e).after($wrap);
      $wrap.append($('<button>').addClass('copy-btn').append('Copy').on('click', function (e) {
        var code = $(this).parent().find('.code').find('.line').map(function (i, e) {
          return $(e).text();
        }).toArray().join('\n');
        var ta = document.createElement('textarea');
        var range = document.createRange(); //For Chrome
        var sel = window.getSelection(); //For Chrome
        var yPosition = window.pageYOffset || document.documentElement.scrollTop;
        ta.style.top = yPosition + 'px'; //Prevent page scroll
        ta.style.position = 'absolute';
        ta.style.opacity = '0';
        ta.value = code;
        ta.textContent = code; //For FireFox
        ta.contentEditable = true;
        ta.readOnly = false;
        document.body.appendChild(ta);
        range.selectNode(ta);
        sel.removeAllRanges();
        sel.addRange(range);
        ta.setSelectionRange(0, code.length);
        var result = document.execCommand('copy');
        
          if (result) $(this).text('Copied');
          else $(this).text('Copy failed');
        
        ta.blur(); //For iOS
        $(this).blur();
      })).on('mouseleave', function (e) {
        var $b = $(this).find('.copy-btn');
        setTimeout(function () {
          $b.text('Copy');
        }, 300);
      }).append(e);
    })
  </script>


  

</body>
</html>
