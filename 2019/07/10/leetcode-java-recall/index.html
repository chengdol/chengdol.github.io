<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="中文|English">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">


























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=6.7.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.7.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.7.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.7.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.7.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '6.7.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="TO-DO  hiring season, internal reference position: backend developer, DevOps, Infra system design from x code in my laptop? baidu cloud? company series, buy x code or leetcode? resume project chat blo">
<meta name="keywords" content="leetcode">
<meta property="og:type" content="article">
<meta property="og:title" content="Leetcode Java Summary">
<meta property="og:url" content="http://yoursite.com/2019/07/10/leetcode-java-recall/index.html">
<meta property="og:site_name" content="海胆阶段&#39;s Blog">
<meta property="og:description" content="TO-DO  hiring season, internal reference position: backend developer, DevOps, Infra system design from x code in my laptop? baidu cloud? company series, buy x code or leetcode? resume project chat blo">
<meta property="og:locale" content="中文|English">
<meta property="og:updated_time" content="2020-08-10T06:28:09.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Leetcode Java Summary">
<meta name="twitter:description" content="TO-DO  hiring season, internal reference position: backend developer, DevOps, Infra system design from x code in my laptop? baidu cloud? company series, buy x code or leetcode? resume project chat blo">






  <link rel="canonical" href="http://yoursite.com/2019/07/10/leetcode-java-recall/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Leetcode Java Summary | 海胆阶段's Blog</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="中文|English">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">海胆阶段's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    
      
    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>About</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags<span class="badge">160</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories<span class="badge">49</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives<span class="badge">299</span></a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>Search</a>
        </li>
      
    </ul>
  

  
    

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="Searching..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/07/10/leetcode-java-recall/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="海胆阶段">
      <meta itemprop="description" content="骐骥一跃，不能十步；驽马十驾，功在不舍">
      <meta itemprop="image" content="/images/cuishao.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="海胆阶段's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Leetcode Java Summary

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-07-10 09:30:40" itemprop="dateCreated datePublished" datetime="2019-07-10T09:30:40-07:00">2019-07-10</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2020-08-09 23:28:09" itemprop="dateModified" datetime="2020-08-09T23:28:09-07:00">2020-08-09</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/Leetcode/" itemprop="url" rel="index"><span itemprop="name">Leetcode</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="TO-DO">TO-DO</h2>
<ol start="0">
<li>hiring season, internal reference</li>
<li>position: backend developer, DevOps, Infra</li>
<li>system design from x code in my laptop? baidu cloud?</li>
<li>company series, buy x code or leetcode?</li>
<li>resume project chat</li>
<li>blog review</li>
</ol>
<h1>Data Structure</h1>
<p>java Integer notation, see this <a href="https://stackoverflow.com/questions/17636749/java-why-cant-i-declare-integer-types-using-scientific-notation" target="_blank" rel="noopener">post</a>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 10^9</span></span><br><span class="line"><span class="keyword">int</span> a = (<span class="keyword">int</span>)<span class="number">1e9</span>;</span><br><span class="line"><span class="keyword">int</span> a = (<span class="keyword">int</span>)Math.pow(<span class="number">10</span>, <span class="number">9</span>);</span><br><span class="line"><span class="keyword">int</span> b = <span class="number">2_000_000_000</span>;</span><br></pre></td></tr></table></figure>
<h2 id="Class-features">Class features</h2>
<p>basic structure and syntax
nested class, inner class
static class
private
public
protected</p>
<h2 id="LRU">LRU</h2>
<p>LRU除了可以使用自定义的double linked list去实现，也可以用Java API <code>LinkedHashMap</code>，在constructor中指定参数:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 设置capacity</span></span><br><span class="line"><span class="keyword">int</span> CAPACITY = <span class="number">10</span>;</span><br><span class="line"><span class="comment">// true表示自动实现LRU功能</span></span><br><span class="line">LinkedHashMap&lt;String, Integer&gt; lru = <span class="keyword">new</span> LinkedHashMap&lt;&gt;(CAPACITY, <span class="number">0.75f</span>, <span class="keyword">true</span>)&#123;</span><br><span class="line">  <span class="comment">// override</span></span><br><span class="line">  <span class="keyword">protected</span> <span class="keyword">boolean</span> removeEldestEntry​(Map.Entry&lt;String, Integer&gt; eldest)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> size() &gt; CAPACITY;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如此一来，可以直接使用put(), get()即可，其他不用操心，当达新增的量超过capacity时会自动删除least recently used item.</p>
<p>此外，如果不使用这个special constructor <code>new LinkedHashMap&lt;&gt;(CAPACITY, 0.75f, true)</code>，则linked list中的顺序是insertion order，即最先insert的在前面，最近的在后面，如果用keySet() iterator是按照linked list的顺序出来的，即最先insert的先出来。</p>
<p>经过试验发现，LRU声称的access order，都是insertion order的顺序，只不过LRU实现每次会自动把最新活动的元素重新放到linked list最后， 然后超出capacity时，把least recently used one删除了.</p>
<h2 id="Pair-class">Pair class</h2>
<p><a href="https://docs.oracle.com/javase/8/javafx/api/javafx/util/Pair.html" target="_blank" rel="noopener">https://docs.oracle.com/javase/8/javafx/api/javafx/util/Pair.html</a>
<a href="https://www.baeldung.com/java-pairs" target="_blank" rel="noopener">https://www.baeldung.com/java-pairs</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javafx.util.Pair;</span><br></pre></td></tr></table></figure>
<p><a href="https://www.geeksforgeeks.org/pair-class-in-java/" target="_blank" rel="noopener">https://www.geeksforgeeks.org/pair-class-in-java/</a></p>
<h2 id="input-method">input method</h2>
<h2 id="Deque">Deque</h2>
<p>如果把Deque既当stack又当queue, 不要使用他们的native method，用能明确指出操作位置的method:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">addLast(x)</span><br><span class="line">removeLast()</span><br><span class="line">peekLast()</span><br><span class="line"></span><br><span class="line">addFirst()</span><br><span class="line">removeFirst()</span><br><span class="line">peekFirst()</span><br></pre></td></tr></table></figure>
<p>如果只充当stack or queue之一，则可以用native method:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">stack: push, pop</span><br><span class="line">queue: add, poll</span><br></pre></td></tr></table></figure>
<h2 id="Segment-Tree">Segment Tree</h2>
<p><a href="https://www.geeksforgeeks.org/segment-tree-set-1-sum-of-given-range/" target="_blank" rel="noopener">https://www.geeksforgeeks.org/segment-tree-set-1-sum-of-given-range/</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// get min value &gt;= x</span></span><br><span class="line"><span class="comment">// 返回的都是整数，但是是double type</span></span><br><span class="line">Math.ceil(<span class="keyword">double</span> x)</span><br><span class="line"><span class="comment">// get max value &lt;= x</span></span><br><span class="line"><span class="comment">// 返回的都是整数，但是是double type</span></span><br><span class="line">Math.floor(<span class="keyword">double</span> x)</span><br><span class="line"><span class="comment">// log e of x</span></span><br><span class="line">Math.log(<span class="keyword">double</span> x)</span><br><span class="line"><span class="comment">// calculate log2</span></span><br><span class="line">Math.log(x) / Math.log(<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<p>Complete binary tree number of nodes: <code>2^height - 1</code> (height start from <code>1</code>)
For segment tree, number of nodes:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// n is the length of array</span></span><br><span class="line"><span class="keyword">int</span> h = (<span class="keyword">int</span>)Math.ceil(Math.log(n) / Math.log(<span class="number">2</span>));</span><br><span class="line"><span class="keyword">int</span> maxSTSize = <span class="number">2</span> * (<span class="keyword">int</span>)Math.pow(<span class="number">2</span>, h) - <span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span>[] st</span><br></pre></td></tr></table></figure>
<p>Or you can define <code>class Node</code> to build segment tree.</p>
<h2 id="List">List</h2>
<ul>
<li>LinkedList is doubly-linked!</li>
<li>change array to list</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; list = Arrays.&lt;Integer&gt;asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, ...);</span><br></pre></td></tr></table></figure>
<p>but this is fixed size list backed by array, you can create a new one:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;Integer&gt;(Arrays.&lt;Integer&gt;asList(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>, ...));</span><br></pre></td></tr></table></figure>
<p>use slow-fast pointer to find middle of linkedlist or find cycle</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ListNode slow = head, fast = head;</span><br><span class="line"><span class="keyword">while</span> (fast.next != <span class="keyword">null</span> &amp;&amp; fast.next.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">    slow = slow.next;</span><br><span class="line">    fast = fast.next.next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// when loop break, slow is in middle</span></span><br></pre></td></tr></table></figure>
<p>reverse the linked list:
<a href="https://leetcode.com/problems/reorder-list/submissions/" target="_blank" rel="noopener">https://leetcode.com/problems/reorder-list/submissions/</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1-&gt;2-&gt;3-&gt;4</span></span><br><span class="line"><span class="comment">// 1&lt;-2&lt;-3&lt;-4</span></span><br><span class="line">ListNode pre = <span class="keyword">null</span>;</span><br><span class="line">ListNode cur = &lt;node <span class="number">1</span>&gt;;</span><br><span class="line"><span class="keyword">while</span> (cur != <span class="keyword">null</span>)</span><br><span class="line">&#123;</span><br><span class="line">    ListNode next = cur.next;</span><br><span class="line">    cur.next = pre;</span><br><span class="line">    pre = cur;</span><br><span class="line">    cur = next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 注意这里不要弄错了</span></span><br><span class="line">ListNode newHead = pre;</span><br></pre></td></tr></table></figure>
<h2 id="PriorityQueue">PriorityQueue</h2>
<p>Priority queue has <code>contains(object)</code> and <code>remove(object)</code> method, but that will take <code>O(n)</code> time.</p>
<p>如果要构造比较整数大小的priority queue</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// if use (a, b) -&gt; a - b, this may overflow when encounter MAX MIN</span></span><br><span class="line">Queue&lt;Integer&gt; pq = <span class="keyword">new</span> PriorityQueue&lt;&gt;((a, b) -&gt; Integer.compare(a, b));</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意priorityQueue iterator返回的是random order!</p>
</blockquote>
<h2 id="String">String</h2>
<p>String: immutable
StringBuilder: mutable, not thread safe
StringBuffer: mutable, thread safe</p>
<p>注意<code>&quot;\t&quot;, &quot;\n&quot;</code>在string中只相当于一个长度！！！</p>
<p>“abcdefg”
substring 是连续的: “cdef”
subsequence可以不连续，但顺序要一致: “abdf”</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="keyword">new</span> String(<span class="string">"123"</span>);</span><br><span class="line">String str = <span class="string">"123"</span>;</span><br><span class="line"><span class="comment">// convert number 123456 to string "123"</span></span><br><span class="line">String str = String.valueOf(<span class="number">123456</span>);</span><br><span class="line">str.length();</span><br><span class="line"><span class="comment">// use + to concatenate</span></span><br><span class="line">str1 + str2</span><br><span class="line"><span class="comment">// string compare</span></span><br><span class="line">str1.compareTo(str2);</span><br></pre></td></tr></table></figure>
<p>when do replace</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="string">"a.b.c.d"</span>;</span><br><span class="line">str.replace(<span class="string">"."</span>, <span class="string">""</span>); <span class="comment">// get "abcd"</span></span><br><span class="line"><span class="comment">// don't use str.replace('.',''), cannot be empty char</span></span><br><span class="line"><span class="comment">// there is no regex, just CharSequence type</span></span><br></pre></td></tr></table></figure>
<p>if just want to create a string using other type:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">""</span> + other type</span><br></pre></td></tr></table></figure>
<p>caution:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">String a = <span class="string">"1.2.3."</span>;</span><br><span class="line"><span class="comment">// a.split("\\.") will get length of 3, it will ignore last '.'</span></span><br><span class="line">String a = <span class="string">".1.2.3"</span>;</span><br><span class="line"><span class="comment">// a.split("\\.") will get length of 4, it will not ignore first '.'</span></span><br><span class="line">String b = <span class="string">"1..2.3"</span>;</span><br><span class="line"><span class="comment">// b.split("\\.") will get length of 4, it will not ignore consecutive '.'</span></span><br></pre></td></tr></table></figure>
<p>Notice the parameters format</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">indexOf(<span class="keyword">int</span> ch, <span class="keyword">int</span> startIndex)</span><br><span class="line">split(String reg)</span><br><span class="line"></span><br><span class="line"><span class="comment">// returns the index within this string of</span></span><br><span class="line"><span class="comment">// the last occurrence of the specified character.</span></span><br><span class="line"><span class="keyword">int</span> lastIndexOf​(<span class="keyword">int</span> ch)</span><br></pre></td></tr></table></figure>
<h2 id="StringBuilder">StringBuilder</h2>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">StringBuilder sb = <span class="keyword">new</span> StringBuilder(String);</span><br><span class="line">sb.append(x);</span><br><span class="line"><span class="comment">// insert in head</span></span><br><span class="line">sb.insert(<span class="number">0</span>, x);</span><br><span class="line">sb.toString();</span><br><span class="line"><span class="comment">// return stringbuilder</span></span><br><span class="line">sb.reverse();</span><br><span class="line"><span class="comment">// stringbuilder does not implement equals method!!</span></span><br><span class="line">sb.equals(another stringbuilder object); <span class="comment">// wrong!!</span></span><br></pre></td></tr></table></figure>
<p>more methods:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// return String</span></span><br><span class="line"><span class="comment">// 这里只有一个参数的时候是start index!</span></span><br><span class="line">substring(<span class="keyword">int</span> startidx)</span><br><span class="line"><span class="comment">// [start end)</span></span><br><span class="line">substring(<span class="keyword">int</span> startidx, <span class="keyword">int</span> endidx) </span><br><span class="line">append(lot of types)</span><br><span class="line">setLength(<span class="keyword">int</span> len)</span><br></pre></td></tr></table></figure>
<h2 id="Character">Character</h2>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// return Character</span></span><br><span class="line">Character.valueOf(<span class="keyword">char</span>)</span><br><span class="line"><span class="comment">//return char</span></span><br><span class="line">c.charValue()</span><br><span class="line"></span><br><span class="line"><span class="comment">// actually the convert is auto like int and Integer!</span></span><br><span class="line"><span class="keyword">char</span> c1 = <span class="keyword">new</span> Character(<span class="string">'a'</span>);</span><br><span class="line">Character c1 = <span class="string">'b'</span>;</span><br></pre></td></tr></table></figure>
<p>char compare in <code>if</code> use <code>==</code>
if use ± with char, such as <code>ch - 'a'</code>, don’t forget <code>(char)(ch)</code></p>
<p>check letter:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Character.isDigit(ch);</span><br><span class="line">Character.toLowerCase(ch);</span><br><span class="line">Character.isLetterOrDigit(ch);</span><br></pre></td></tr></table></figure>
<p>Non-ASCII character (&gt; 256):</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Character.toString((<span class="keyword">char</span>)<span class="number">342</span>)</span><br></pre></td></tr></table></figure>
<h2 id="3-items-if-expression">3 items if expression</h2>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// I forget the precedence</span></span><br><span class="line"><span class="comment">// this will first 1 + 2 + 3 then compare with 3!</span></span><br><span class="line"><span class="number">1</span> + <span class="number">2</span> + <span class="number">3</span> == <span class="number">3</span>? <span class="keyword">true</span>: <span class="keyword">false</span></span><br></pre></td></tr></table></figure>
<h2 id="Enhenced-for-Loop">Enhenced for Loop</h2>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// enhanced for loop</span></span><br><span class="line"><span class="keyword">for</span> (Character ch : str.toCharArray())</span><br><span class="line">&#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Collection">Collection</h2>
<p>convert list to array</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// result is List&lt;int[]&gt; type</span></span><br><span class="line"><span class="comment">// think about it</span></span><br><span class="line">result.toArray(<span class="keyword">new</span> <span class="keyword">int</span>[result.size()][]);</span><br></pre></td></tr></table></figure>
<p>convert Integer list to int array (from Java8):
<a href="https://stackoverflow.com/questions/718554/how-to-convert-an-arraylist-containing-integers-to-primitive-int-array" target="_blank" rel="noopener">https://stackoverflow.com/questions/718554/how-to-convert-an-arraylist-containing-integers-to-primitive-int-array</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] arr = list.stream().mapToInt(i -&gt; i).toArray();</span><br></pre></td></tr></table></figure>
<p>also from int array to Integer list
<a href="https://stackoverflow.com/questions/1073919/how-to-convert-int-into-listinteger-in-java" target="_blank" rel="noopener">https://stackoverflow.com/questions/1073919/how-to-convert-int-into-listinteger-in-java</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; list = Arrays.stream(ints).boxed().collect(Collectors.toList());</span><br></pre></td></tr></table></figure>
<p>这个是Java stream的知识点</p>
<h2 id="Array">Array</h2>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// one dimension</span></span><br><span class="line"><span class="keyword">int</span>[] arr = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line"><span class="keyword">int</span>[] arr = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">4</span>]; <span class="comment">// default value is 0</span></span><br><span class="line"><span class="comment">// two dimensions</span></span><br><span class="line"><span class="keyword">int</span>[][] arr = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>][<span class="number">4</span>]; <span class="comment">// 3 rows 4 columns</span></span><br><span class="line"><span class="keyword">int</span>[][] arr = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>][]; <span class="comment">// still ok, you can init one dimension array later</span></span><br><span class="line"><span class="keyword">int</span>[][] arr = <span class="keyword">new</span> <span class="keyword">int</span>[][]&#123;&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;, &#123;<span class="number">4</span>,<span class="number">5</span>&#125;, &#123;<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>&#125;&#125;; <span class="comment">// each one dimension array can have different length!</span></span><br></pre></td></tr></table></figure>
<p>Let’s see char array</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span>[] arr = str.toCharArray();</span><br></pre></td></tr></table></figure>
<p>Use sort static method, if you want to use comparator, see my <strong>lambda</strong> section</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Arrays.sort(E[] e);</span><br><span class="line"><span class="comment">// also for collections</span></span><br><span class="line">Collections.sort(List&lt;xx&gt; l);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Arrays.sort(int[]) primitive type是不能自己写comparator的！</p>
</blockquote>
<p>数组内容字符串化用:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] a = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;</span><br><span class="line"><span class="comment">// correct!</span></span><br><span class="line">Arrays.toString(a);</span><br><span class="line"><span class="comment">// wrong! 这个返回id string</span></span><br><span class="line">a.toString()</span><br></pre></td></tr></table></figure>
<p>Shuffle arrays:
Every permutation of array element should equally likely:
<a href="https://www.geeksforgeeks.org/shuffle-a-given-array-using-fisher-yates-shuffle-algorithm/" target="_blank" rel="noopener">https://www.geeksforgeeks.org/shuffle-a-given-array-using-fisher-yates-shuffle-algorithm/</a>
<a href="https://introcs.cs.princeton.edu/java/stdlib/StdRandom.java.html" target="_blank" rel="noopener">https://introcs.cs.princeton.edu/java/stdlib/StdRandom.java.html</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// nums[0] swap with element in range [0, n)</span></span><br><span class="line"><span class="comment">// nums[1] swap with element in range [1, n)</span></span><br><span class="line"><span class="comment">// nums[2] swap with element in range [2, n)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] shuffle(<span class="keyword">int</span>[] nums)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">int</span> j = i + rand.nextInt(nums.length - i);</span><br><span class="line">    <span class="comment">// swap</span></span><br><span class="line">    <span class="keyword">int</span> tmp = nums[i];</span><br><span class="line">    nums[i] = nums[j];</span><br><span class="line">    nums[j] = tmp;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> nums;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Set">Set</h2>
<p>TreeSet operation time complexity, from java TreeSet doc:
<strong>This implementation provides guaranteed log(n) time cost for the basic operations (add, remove and contains).</strong></p>
<h2 id="Map">Map</h2>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br></pre></td></tr></table></figure>
<p>HashMap&lt;&gt;() not thread safe
HashTable&lt;&gt;(), thread safe but ConcurrentHash…</p>
<p>有时用char[26]（<code>c - 'a'</code>） 或者 int[256] (直接用c即可) 可以用来代替hashmap</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">map.containsKey()</span><br><span class="line"><span class="comment">// also has contains value method!</span></span><br><span class="line">map.containsValue()</span><br><span class="line"><span class="comment">// return set</span></span><br><span class="line">map.keySet()</span><br><span class="line">map.entrySet()</span><br><span class="line"><span class="comment">// return collection</span></span><br><span class="line">map.values()</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// provide value for new key which is absent </span></span><br><span class="line">map.put(key, map.getOrDefault(key, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line"><span class="comment">// if value is a collection object can use:</span></span><br><span class="line">map.computeIfAbsent(key, k -&gt; <span class="keyword">new</span> ArrayList&lt;Stone&gt;()).add(<span class="keyword">new</span> Stone(x,y));</span><br><span class="line"><span class="comment">// remove current key if it's value is val</span></span><br><span class="line">map.remove(key, val)</span><br></pre></td></tr></table></figure>
<p>Treemap/TreeSet (sorted map) perform <strong>all operation</strong> based on it’s default/custom comparator! if two key are equal in comparator, should be treated as equal in equals() method! 但如果没有一致，还是按照comparator去做. treemap/treeset.remove(object) 用的是comparator去比较相等！！</p>
<p>range query API:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// treemap</span></span><br><span class="line">tm.ceilingKey(K key)</span><br><span class="line">tm.ceilingEntry(K key)</span><br><span class="line">tm.floorEntry(K key)</span><br><span class="line">tm.floorKey(K key)</span><br><span class="line"></span><br><span class="line">tm.firstKey()</span><br><span class="line">tm.firstEntry()</span><br><span class="line">tm.lastKey()</span><br><span class="line">tm.lastEntry()</span><br><span class="line"></span><br><span class="line">tm.pollFirstEntry()</span><br><span class="line">tm.pollLastEntry()</span><br><span class="line"><span class="comment">// treeset</span></span><br><span class="line">ts.ceiling(K key)</span><br><span class="line">ts.floor(K key)</span><br><span class="line"></span><br><span class="line">ts.first()</span><br><span class="line">ts.last()</span><br><span class="line"><span class="comment">// 可以用来模拟pq</span></span><br><span class="line">ts.pollFirst()</span><br><span class="line">ts.pollLast()</span><br></pre></td></tr></table></figure>
<p>如果要返回map中的任意一个key，比如key是string类型</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> (String)map.keySet().iterator().next();</span><br></pre></td></tr></table></figure>
<p>this is java <strong>syntax</strong>, I see it in leetcode
<a href="https://stackoverflow.com/questions/1958636/what-is-double-brace-initialization-in-java" target="_blank" rel="noopener">https://stackoverflow.com/questions/1958636/what-is-double-brace-initialization-in-java</a></p>
<h2 id="Exception-Handling">Exception Handling</h2>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"xxx"</span>);</span><br></pre></td></tr></table></figure>
<h2 id="Random-Number-Generation">Random Number Generation</h2>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line">Random rand = <span class="keyword">new</span> Random();</span><br><span class="line"><span class="keyword">int</span> randomNum = rand.nextInt((max - min) + <span class="number">1</span>) + min;</span><br><span class="line"><span class="comment">// simply can use this:</span></span><br><span class="line"><span class="comment">// return double, need to force convert to int maybe</span></span><br><span class="line">Math.random(): [<span class="number">0.00</span>,<span class="number">1.00</span>)</span><br></pre></td></tr></table></figure>
<h2 id="Lambda-Expression">Lambda Expression</h2>
<p>for comparator and comparable, let’s see how to wirte it, <a href="https://www.mkyong.com/java8/java-8-lambda-comparator-example/" target="_blank" rel="noopener">this post</a></p>
<p>原来的方法，在constructor中定义comparator:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Queue&lt;Integer&gt; que = <span class="keyword">new</span> PriorityQueue&lt;&gt;(<span class="keyword">new</span> Comparator&lt;Integer&gt;()&#123;</span><br><span class="line">      <span class="meta">@Override</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Integer n1, Integer n2)</span> </span>&#123;</span><br><span class="line">				<span class="keyword">return</span> Integer.compare(n1, n2);</span><br><span class="line">			&#125; </span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span>[] arr = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">5</span>, <span class="number">3</span>, <span class="number">56</span>, <span class="number">78</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>&#125;;</span><br><span class="line"><span class="comment">// anonymous class to implement comparator</span></span><br><span class="line">Arrays.sort(arr, <span class="keyword">new</span> Comparator&lt;Integer&gt;()&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Integer n1, Integer n2)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> Integer.compare(n1, n2);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[][] arr = &#123;&#123;<span class="number">5</span>,<span class="number">1</span>&#125;, &#123;<span class="number">2</span>,<span class="number">3</span>&#125;&#125;;</span><br><span class="line"><span class="comment">// sort by the first element of one dimenstional array</span></span><br><span class="line">Arrays.sort(arr, (<span class="keyword">int</span>[] a, <span class="keyword">int</span>[]b) -&gt; a[<span class="number">0</span>] - b[<span class="number">0</span>]);</span><br><span class="line">System.out.println(<span class="string">"result= "</span> + Arrays.deepToString(arr));</span><br></pre></td></tr></table></figure>
<p>用lambda构造comparator 时可以用到外部的数据结构？
<a href="https://leetcode.com/problems/top-k-frequent-elements/solution/" target="_blank" rel="noopener">https://leetcode.com/problems/top-k-frequent-elements/solution/</a>
比如这个的官方solution</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// init heap 'the less frequent element first'</span></span><br><span class="line">    PriorityQueue&lt;Integer&gt; heap =</span><br><span class="line">            <span class="keyword">new</span> PriorityQueue&lt;Integer&gt;((n1, n2) -&gt; count.get(n1) - count.get(n2))</span><br></pre></td></tr></table></figure>
<p>其实这里可以使用Map.Entry&lt;&gt; 放入pq中。
count是一个外部定义的hashmap. 这个到底是怎么回事？</p>
<h2 id="Java-Memory-Management">Java Memory Management</h2>
<p>java heap space, java stack memory
<a href="https://www.journaldev.com/4098/java-heap-space-vs-stack-memory" target="_blank" rel="noopener">Memory Allocation in Java</a>
<a href="https://www.baeldung.com/java-stack-heap" target="_blank" rel="noopener">Stack Memory and Heap Space in Java</a></p>
<h2 id="Java-Garbage-Collection">Java Garbage Collection</h2>
<p>you can watch the operting system course video
implemented by DFS with marked bit in each object, scan from stack</p>
<h3 id="Why-use-Deque-instead-of-stack">Why use Deque instead of stack</h3>
<p>check this post <a href="https://leetcode.com/problems/flatten-nested-list-iterator/discuss/80147/Simple-Java-solution-using-a-stack-with-explanation/165585" target="_blank" rel="noopener">https://leetcode.com/problems/flatten-nested-list-iterator/discuss/80147/Simple-Java-solution-using-a-stack-with-explanation/165585</a></p>
<p>I just recently interviewed with 16 different companies in the silicon valley (including FAANG except Netflix) for senior software engineering positions. Here’s my opinion, based on my experience:</p>
<p>Some interviewers will expect you to know why Deque is better than Stack.</p>
<p>Showing mastery of at least one programming language (in this case, Java) can, at worst, score you extra points in the interview, and at best get you the job and even help you get higher compensation or leveling. Getting the optimal solution is the basic requirement to pass an interview. Additionally, you are being benchmarked against other candidates being asked exactly the same question. Lastly, for those targeting senior level positions, the interviewer will also evaluate your seniority. This is one case where I think most interviewers will expect to see that you’ve mastered the Java programming language (if you chose to use it in your interview).</p>
<p>Here are a few reasons why Deque is better than Stack:</p>
<p>Object oriented design - Inheritance, abstraction, classes and interfaces: Stack is a class, Deque is an interface. Only one class can be extended, whereas any number of interfaces can be implemented by a single class in Java (multiple inheritance of type). Using the Deque interface removes the dependency on the concrete Stack class and its ancestors and gives you more flexibility, e.g. the freedom to extend a different class or swap out different implementations of Deque (like LinkedList, ArrayDeque).</p>
<p>Inconsistency: Stack extends the Vector class, which allows you to access element by index. This is inconsistent with what a Stack should actually do, which is why the Deque interface is preferred (it does not allow such operations)–its allowed operations are consistent with what a FIFO or LIFO data structure should allow.</p>
<p>Performance: The Vector class that Stack extends is basically the “thread-safe” version of an ArrayList. The synchronizations can potentially cause a significant performance hit to your application. Also, extending other classes with unneeded functionality (as mentioned in #2) bloat your objects, potentially costing a lot of extra memory and performance overhead.</p>
<h2 id="Tries">Tries</h2>
<p><code>string symbol table</code>: specialized to string key. Faster than hashing, flexible then BST
recall the structure of tries, very simple! put value in last node (character).
put and search method for tries can be recursion implementations.
一般都用的这个。</p>
<p><code>3-way tries</code>: 这里注意，当前char的值和node char比较，less then go left, larger then go right, then compare, if not match, miss hit. Using recursion to do put and search operation. <code>TST</code> is as fast as hashing (for string key) and space efficient. support in-order traverse (obey BST rule)</p>
<p>Implementation: prefix matching, wildcard match, longest prefix.</p>
<h1>Algorithms</h1>
<p><a href="https://www.youtube.com/user/tusharroy2525/playlists" target="_blank" rel="noopener">Tushar Roy youtube channel</a>
princeton algorithms，在youtube or coursera上都有</p>
<p>Time complexity:
<a href="https://en.wikipedia.org/wiki/Time_complexity" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Time_complexity</a>
usually:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">constant O(1)</span><br><span class="line">logarithmic O(logn)</span><br><span class="line">linear O(n)</span><br><span class="line">quasilinear O(nlogn)</span><br><span class="line">quadratic O(n^2), n to the power of 2</span><br><span class="line">cubic O(n^3), n to the power of 3</span><br><span class="line">polynomial O(n^x + n^y + ..)</span><br><span class="line">exponential O(2^n)</span><br><span class="line">factorial O(n!)</span><br></pre></td></tr></table></figure>
<p><code>Tilde notation</code>: ignore lower order terms, negligible
best case, lower bound
worst case, upper bound, <code>Big O</code> does this
average case, cost for random input, expected cost
when upper bound equals lower bound, we get optimal algorithms</p>
<p><a href="https://cs.stackexchange.com/questions/52776/difference-between-the-tilde-and-big-o-notations" target="_blank" rel="noopener">tilde notation vs big-O</a></p>
<h2 id="Prime">Prime</h2>
<p>LC 886 <a href="https://leetcode.com/problems/prime-palindrome/" target="_blank" rel="noopener">https://leetcode.com/problems/prime-palindrome/</a>
isPrime是如何检查的，函数记住, 并不是检查每个递增+1的除数是否整除！
检查特殊的值就可以了
<a href="https://en.wikipedia.org/wiki/Primality_test" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Primality_test</a></p>
<h2 id="Monotonic-Stack">Monotonic Stack</h2>
<p>LC 496 Next Greater Element I
LC 503 Next Greater Element II
还有LC 31 next permutation 也是属于monotonic problem, 见这题我的note</p>
<p>Monotonic stack practice:
<a href="https://medium.com/@vishnuvardhan623/monotonic-stack-e9dcc4fa8c3e" target="_blank" rel="noopener">https://medium.com/@vishnuvardhan623/monotonic-stack-e9dcc4fa8c3e</a></p>
<p>increasing monotonic stack: from stack top to stack bottom is increasing
decreasing monotonoc stack: reverse order</p>
<h2 id="General">General</h2>
<p>bit and boolean can use XOR ^ operator!</p>
<h2 id="Sliding-Window">Sliding Window</h2>
<p>相关window问题的<a href="https://leetcode.com/problems/minimum-window-substring/discuss/26808" target="_blank" rel="noopener">template</a> and <a href="https://leetcode.com/problems/find-all-anagrams-in-a-string/discuss/92007" target="_blank" rel="noopener">summary</a>, good sliding window <a href="https://www.geeksforgeeks.org/window-sliding-technique/" target="_blank" rel="noopener">demo</a></p>
<p><a href="https://www.geeksforgeeks.org/window-sliding-technique/" target="_blank" rel="noopener">basic sliding window problem</a>
leetcode 904
find the longest sequence with at most 2 integers</p>
<h2 id="Quick-select">Quick select</h2>
<p>Average <code>O(n)</code>, worst case <code>O(n^2)</code>, need to shuffle.
if quick select Kth element, then in the range [0, K] is guarantee the K smallest elemets in unsorted array.</p>
<p>Summary of top k problem:
<a href="https://leetcode.com/problems/k-closest-points-to-origin/discuss/220235/" target="_blank" rel="noopener">https://leetcode.com/problems/k-closest-points-to-origin/discuss/220235/</a></p>
<h2 id="Binary-search">Binary search</h2>
<p>how to decide the condition?
lo &lt; hi or lo &lt;= hi?
hi = mid - 1 or hi = mid?
lo = mid + 1 or lo = mid?</p>
<p>when target exists, use</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (lo &lt;= hi)</span><br></pre></td></tr></table></figure>
<p>because it will finally concentrate. lo == hi will be the result:
hi = mid - 1 or hi = mid?
or
lo = mid + 1 or lo = mid?
does not matter.
对于可能不存在的也用lo &lt;= hi，但要保证hi = mid - 1 和 lo = mid + 1</p>
<p>You use while (start &lt;= end) if you are returning the match from inside the loop.
You use while (start &lt; end) if you want to exit out of the loop first, and then use the result of start or end to return the match.</p>
<h2 id="Backtracking">Backtracking</h2>
<p><a href="https://www.geeksforgeeks.org/backtracking-algorithms/#standard" target="_blank" rel="noopener"><code>Backtracking</code></a> is an algorithmic-technique for solving problems <code>recursively</code> by trying to build a solution <code>incrementally</code>, one piece at a time, abandons those solutions that fail to satisfy the constraints of the problem at any point of time.</p>
<p>for example:
SudoKo
<a href="https://www.youtube.com/watch?v=xouin83ebxE" target="_blank" rel="noopener">N Queens problem</a>, smart at process diagonal row-col and row + col. think recursion as a tree, back and forth.</p>
<p>leetcode <a href="https://leetcode.com/problems/permutations/discuss/18239" target="_blank" rel="noopener">summary</a> backtracking about <code>Subsets</code>, <code>Permutations</code>, and <code>Combination Sum</code></p>
<h2 id="Others">Others</h2>
<p>x^y how to describe: x to the power of y
x^2: x squard
x^3: x cubed</p>
<h2 id="Find-rectangle">Find rectangle</h2>
<p>p1[x,y], p2[x,y]
if p1 and p2 are diagonal, check if other 2 points exist, can use hashmap or hashset</p>
<h2 id="Toggle-1-and-0">Toggle 1 and 0</h2>
<p>use xor 1 to toggle 1 and 0</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">1</span></span><br><span class="line">a ^= <span class="number">1</span>; <span class="comment">// a is 0</span></span><br><span class="line">a ^= <span class="number">1</span>; <span class="comment">// a is 1</span></span><br></pre></td></tr></table></figure>
<p>calculate power of 2:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Math.pow(<span class="number">2</span>, n); <span class="comment">// slow</span></span><br><span class="line"><span class="comment">// or can use shift</span></span><br><span class="line"><span class="number">1</span> &lt;&lt; n <span class="comment">// fast</span></span><br></pre></td></tr></table></figure>
<h2 id="Union-Find">Union Find</h2>
<p>for quick find, all sites in a component must have the same value in id[], directly check <code>id[p] == id[q]</code>
for quick union, set the root of pool p to the root of q
then improve quick union, compress the path when seach the root:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span>[] uf, <span class="keyword">int</span> i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">while</span> (uf[i] != i)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">// path compression</span></span><br><span class="line">    uf[i] = uf[uf[i]];</span><br><span class="line">    i = uf[i];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="sort">sort</h2>
<p>in-place:
bobble sort     stable
selection sort  not stable
insertion sort  stable
quick sort      not stable
heap sort       not stable
need space:
merge sort      stable</p>
<p>insertion sort对于partial sorted的数组排序很快。
merge sort O(nlogn) 很稳定，可以用merge sort的思路去divide and conquer解决其他问题
quick sort 最坏O(n^2)，比如排好序的数组，所以需要shuffle: <code>Collections.shuffle(list)</code></p>
<p>radix sort不是通过comparison机制实现的, leetcode 164</p>
<p>sort one array based on another array</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// sort a based on b</span></span><br><span class="line"><span class="keyword">int</span>[] a = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">78</span>,<span class="number">4</span>,<span class="number">2</span>&#125;;</span><br><span class="line"><span class="keyword">int</span>[] b = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">7</span>,<span class="number">45</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">78</span>,<span class="number">2</span>,<span class="number">4</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// pair[i][0] = a[i];</span></span><br><span class="line"><span class="comment">// pair[i][1] = b[i];</span></span><br><span class="line"><span class="keyword">int</span>[][] pair = <span class="keyword">new</span> <span class="keyword">int</span>[a.length][a.length];</span><br><span class="line">Arrays.sort(pair, (a, b) -&gt; a[<span class="number">1</span>] - b[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// or use map &lt;b value: b index&gt;</span></span><br><span class="line"><span class="comment">// the sort b, recreate a using the map mapping</span></span><br></pre></td></tr></table></figure>
<h2 id="0-1-knapsack">0/1 knapsack</h2>
<h2 id="Binary-Search-Tree">Binary Search Tree</h2>
<p>need to know different traverse orders:</p>
<ul>
<li><em>pre-order</em>: current -&gt; display -&gt; left -&gt; right</li>
<li><em>post-order</em>: current -&gt; left -&gt; right -&gt; display</li>
<li><em>in-order</em>: current -&gt; left -&gt; display -&gt; right, this will get ascending order if traverse a BST.</li>
<li><em>out-order</em>: current -&gt; right -&gt; display -&gt; left, this will get descending order if traverse a BST</li>
</ul>
<p>pre order list can build BST uniquely.
(post)pre order + in order can build BT uniquely</p>
<h3 id="threaded-binary-search-tree">threaded binary search tree</h3>
<p>LC 99:
<a href="https://leetcode.com/problems/recover-binary-search-tree/submissions/" target="_blank" rel="noopener">https://leetcode.com/problems/recover-binary-search-tree/submissions/</a>
video:
morris traversal inorder to binary tree: 不用递归的方式，实现constant space的一种traverse
<a href="https://www.youtube.com/watch?v=wGXB9OWhPTg" target="_blank" rel="noopener">https://www.youtube.com/watch?v=wGXB9OWhPTg</a>
<a href="https://www.geeksforgeeks.org/inorder-tree-traversal-without-recursion-and-without-stack/" target="_blank" rel="noopener">https://www.geeksforgeeks.org/inorder-tree-traversal-without-recursion-and-without-stack/</a></p>
<h2 id="Undirected-graph">Undirected graph</h2>
<p>vertex and edge matters
degree: num of edge connect to a vertex
graph API design:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">addEdge()</span><br><span class="line">Iterable adjacent nodes</span><br><span class="line">numEdge()</span><br><span class="line">numVertex()</span><br></pre></td></tr></table></figure>
<p>How to repesent vertex and it’s edge, here use <code>adjacency list</code>
如果发现graph的node是连续的，比如<code>0 ~ n-1</code>则用adjacency list比较好，否则用<code>Map&lt;Integer, List&lt;Integer&gt;&gt;</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// generic array</span></span><br><span class="line">List&lt;Integer&gt;[] adj = (List&lt;Integer&gt;[]) <span class="keyword">new</span> List[n];</span><br><span class="line"><span class="comment">// it seems we can do now:</span></span><br><span class="line">List&lt;Integer&gt;[] adj =  <span class="keyword">new</span> List[n];</span><br><span class="line">TreeMap&lt;Integer, Integer&gt;[] tmap = <span class="keyword">new</span> TreeMap[n];</span><br><span class="line"><span class="comment">// init</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line">  adj[i] = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>actually we can use list of list instead of this format, but array is faster.
<a href="https://stackoverflow.com/questions/8559092/create-an-array-of-arraylists" target="_blank" rel="noopener">how to create an array of list</a></p>
<p>may contains:
self-loop
parallel edges</p>
<h3 id="BFS">BFS</h3>
<p>use <code>queue</code> to hold the vertices
add all unmarked vertices to queue adjacent to v and mark them</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">boolean</span>[] marked;</span><br><span class="line"><span class="keyword">int</span>[] edgeTo;</span><br><span class="line"><span class="keyword">int</span>[] distTo;</span><br></pre></td></tr></table></figure>
<p>time complexity: O(E + V)</p>
<h3 id="DFS">DFS</h3>
<p>for example, find exit for maze graph
mark vertex has visited
recursive (or use <code>stack</code> )visit all unmarked vertices w adjancent to v</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">boolean</span>[] marked;</span><br><span class="line"><span class="keyword">int</span>[] edgeTo;</span><br></pre></td></tr></table></figure>
<p>time complexity: O(E + V)</p>
<h3 id="Bridge">Bridge</h3>
<p>leetcode: <a href="https://leetcode.com/problems/critical-connections-in-a-network/" target="_blank" rel="noopener">1192</a>
这是一种找bridge的算法: Tarjan algorithm
可以看看这个频道的graph theory playlist:
<a href="https://www.youtube.com/watch?v=aZXi1unBdJA" target="_blank" rel="noopener">https://www.youtube.com/watch?v=aZXi1unBdJA</a>
<a href="https://www.youtube.com/watch?v=TyWtx7q2D7Y" target="_blank" rel="noopener">https://www.youtube.com/watch?v=TyWtx7q2D7Y</a></p>
<h3 id="Connected-components">Connected components</h3>
<p>a connected component is a max pool of connected vertices
answer the question: is v and w connected in contact time.</p>
<p>DFS? yes, run DFS for each unvisited vertex, verteice in same connected component has the same id (this can represent component number!), so, check vertex id will get result.</p>
<h2 id="Directed-graph">Directed graph</h2>
<p>also called <code>digraph</code>
outdegree, indegree
directed cycle</p>
<p><code>DAG</code>: directed acyclic graph</p>
<h3 id="Unweighted">Unweighted</h3>
<p><strong>without</strong> weight on edge, the same for DFS and BFS
we use <code>adjacency list</code> the same as undirected graph</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt;[] adj;</span><br></pre></td></tr></table></figure>
<h4 id="topological-sorting">topological sorting</h4>
<p>for example, <code>precedence scheduling</code>
at least one vertex has 0 indegree and should be <code>directed acyclic graph (DAG)</code></p>
<p><code>BFS</code>: 从indegree为0的node开始，压入队列中，每次下一个node的indegree减1，再把下一批indegree为0的node压入队列中，最后如果没有cycle，所有node都应该被explored.</p>
<p><code>DFS</code>也可以，但要注意visited用2种记号表示, 0:没有访问，1:当前访问, 2:完全访问。如果在一次DFS中再次遇到了1，则说明有cycle.当完全访问后，再设置成2.</p>
<h4 id="strongly-connected-component">strongly connected component</h4>
<p>Strongly connected: there is a path from v to w and w to v as well.
skip this topic</p>
<h3 id="Weighted">Weighted</h3>
<p>API design:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">class DirectedEdge: weight, from, to</span><br><span class="line">class EdgeWeightedDigraph: addEdge(new DirectedEdge(from, to, weight));</span><br><span class="line">distTo(<span class="keyword">int</span> w);</span><br><span class="line">pathTo(<span class="keyword">int</span> w);</span><br></pre></td></tr></table></figure>
<p>we still use adjacency list representation:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">List&lt;DirectedEdge&gt;[] adj = (List&lt;DirectedEdge&gt;[]) <span class="keyword">new</span> List[n];</span><br><span class="line"><span class="comment">// new init array</span></span><br><span class="line">List&lt;DirectedEdge&gt;[] adj = <span class="keyword">new</span> List[n];</span><br></pre></td></tr></table></figure>
<h4 id="Dijkstra">Dijkstra</h4>
<p><code>non-negative weight</code>
<code>SPT</code>: shortest path tree exist in graph from the source vertex</p>
<p><strong>remember</strong>:
Use minium priority queue, to choose the next vertex cloest to the source vertex!
Then update the path accordingly if it’s shorter than before (如何实现这个degrade呢?)
<a href="https://www.geeksforgeeks.org/dijkstras-shortest-path-algorithm-in-java-using-priorityqueue/" target="_blank" rel="noopener">implementation</a></p>
<p>有几点需要注意：</p>
<ol>
<li>它没有实现degrade操作，只是又加入了新的元素在pq中，这样旧的就沉到底部了</li>
<li>有一个visited set去控制结束</li>
<li>注意comparator interface是怎么实现的，override了compare method，其实也用不着，在pq初始化的时候可以用lambda去实现。</li>
</ol>
<p>time complexity of the construct computation: O(ElogV)</p>
<h4 id="Bellman-Ford">Bellman-Ford</h4>
<p><code>no negative cycle</code></p>
<h3 id="A">A*</h3>
<p>A graph traversal and path search algorithm
leetcode 1263</p>
<h3 id="regular-expression">regular expression</h3>
<p>leetcode 819
去掉所有非字典字母，然后split每个word组成数组:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String[] words = p.replaceAll(<span class="string">"\\W+"</span> , <span class="string">" "</span>).toLowerCase().split(<span class="string">"\\s+"</span>);</span><br></pre></td></tr></table></figure>

      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/leetcode/" rel="tag"># leetcode</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/07/09/openshift-intro/" rel="next" title="Openshift Vs Kubernetes">
                <i class="fa fa-chevron-left"></i> Openshift Vs Kubernetes
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/07/10/git-partial-merge/" rel="prev" title="Git Partial Merge">
                Git Partial Merge <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/cuishao.png" alt="海胆阶段">
            
              <p class="site-author-name" itemprop="name">海胆阶段</p>
              <p class="site-description motion-element" itemprop="description">骐骥一跃，不能十步；驽马十驾，功在不舍</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">299</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">49</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">160</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#TO-DO"><span class="nav-number">1.</span> <span class="nav-text">TO-DO</span></a></li></ol><li class="nav-item nav-level-1"><a class="nav-link" href="#undefined"><span class="nav-number"></span> <span class="nav-text">Data Structure</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Class-features"><span class="nav-number">1.</span> <span class="nav-text">Class features</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LRU"><span class="nav-number">2.</span> <span class="nav-text">LRU</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Pair-class"><span class="nav-number">3.</span> <span class="nav-text">Pair class</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#input-method"><span class="nav-number">4.</span> <span class="nav-text">input method</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Deque"><span class="nav-number">5.</span> <span class="nav-text">Deque</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Segment-Tree"><span class="nav-number">6.</span> <span class="nav-text">Segment Tree</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#List"><span class="nav-number">7.</span> <span class="nav-text">List</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PriorityQueue"><span class="nav-number">8.</span> <span class="nav-text">PriorityQueue</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#String"><span class="nav-number">9.</span> <span class="nav-text">String</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#StringBuilder"><span class="nav-number">10.</span> <span class="nav-text">StringBuilder</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Character"><span class="nav-number">11.</span> <span class="nav-text">Character</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-items-if-expression"><span class="nav-number">12.</span> <span class="nav-text">3 items if expression</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Enhenced-for-Loop"><span class="nav-number">13.</span> <span class="nav-text">Enhenced for Loop</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Collection"><span class="nav-number">14.</span> <span class="nav-text">Collection</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Array"><span class="nav-number">15.</span> <span class="nav-text">Array</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Set"><span class="nav-number">16.</span> <span class="nav-text">Set</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Map"><span class="nav-number">17.</span> <span class="nav-text">Map</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Exception-Handling"><span class="nav-number">18.</span> <span class="nav-text">Exception Handling</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Random-Number-Generation"><span class="nav-number">19.</span> <span class="nav-text">Random Number Generation</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lambda-Expression"><span class="nav-number">20.</span> <span class="nav-text">Lambda Expression</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Java-Memory-Management"><span class="nav-number">21.</span> <span class="nav-text">Java Memory Management</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Java-Garbage-Collection"><span class="nav-number">22.</span> <span class="nav-text">Java Garbage Collection</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Why-use-Deque-instead-of-stack"><span class="nav-number">22.1.</span> <span class="nav-text">Why use Deque instead of stack</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Tries"><span class="nav-number">23.</span> <span class="nav-text">Tries</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#undefined"><span class="nav-number"></span> <span class="nav-text">Algorithms</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Prime"><span class="nav-number">1.</span> <span class="nav-text">Prime</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Monotonic-Stack"><span class="nav-number">2.</span> <span class="nav-text">Monotonic Stack</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#General"><span class="nav-number">3.</span> <span class="nav-text">General</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Sliding-Window"><span class="nav-number">4.</span> <span class="nav-text">Sliding Window</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quick-select"><span class="nav-number">5.</span> <span class="nav-text">Quick select</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Binary-search"><span class="nav-number">6.</span> <span class="nav-text">Binary search</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Backtracking"><span class="nav-number">7.</span> <span class="nav-text">Backtracking</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Others"><span class="nav-number">8.</span> <span class="nav-text">Others</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Find-rectangle"><span class="nav-number">9.</span> <span class="nav-text">Find rectangle</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Toggle-1-and-0"><span class="nav-number">10.</span> <span class="nav-text">Toggle 1 and 0</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Union-Find"><span class="nav-number">11.</span> <span class="nav-text">Union Find</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sort"><span class="nav-number">12.</span> <span class="nav-text">sort</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0-1-knapsack"><span class="nav-number">13.</span> <span class="nav-text">0/1 knapsack</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Binary-Search-Tree"><span class="nav-number">14.</span> <span class="nav-text">Binary Search Tree</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#threaded-binary-search-tree"><span class="nav-number">14.1.</span> <span class="nav-text">threaded binary search tree</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Undirected-graph"><span class="nav-number">15.</span> <span class="nav-text">Undirected graph</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#BFS"><span class="nav-number">15.1.</span> <span class="nav-text">BFS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DFS"><span class="nav-number">15.2.</span> <span class="nav-text">DFS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Bridge"><span class="nav-number">15.3.</span> <span class="nav-text">Bridge</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Connected-components"><span class="nav-number">15.4.</span> <span class="nav-text">Connected components</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Directed-graph"><span class="nav-number">16.</span> <span class="nav-text">Directed graph</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Unweighted"><span class="nav-number">16.1.</span> <span class="nav-text">Unweighted</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#topological-sorting"><span class="nav-number">16.1.1.</span> <span class="nav-text">topological sorting</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#strongly-connected-component"><span class="nav-number">16.1.2.</span> <span class="nav-text">strongly connected component</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Weighted"><span class="nav-number">16.2.</span> <span class="nav-text">Weighted</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Dijkstra"><span class="nav-number">16.2.1.</span> <span class="nav-text">Dijkstra</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Bellman-Ford"><span class="nav-number">16.2.2.</span> <span class="nav-text">Bellman-Ford</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#A"><span class="nav-number">16.3.</span> <span class="nav-text">A*</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#regular-expression"><span class="nav-number">16.4.</span> <span class="nav-text">regular expression</span></a></li></ol></li></ol></li></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2019 – <span itemprop="copyrightYear">2024</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Chengdong Liao</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v6.7.0</div>





  <script src="https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js"></script>
  <script>
    if (window.mermaid) {
      mermaid.initialize("");
    }
  </script>

        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=6.7.0"></script>

  <script src="/js/src/motion.js?v=6.7.0"></script>



  
  

  
  <script src="/js/src/scrollspy.js?v=6.7.0"></script>
<script src="/js/src/post-details.js?v=6.7.0"></script>



  


  <script src="/js/src/bootstrap.js?v=6.7.0"></script>



  



  











  

  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  

  

  

  

  

  

  

  
  <style>
    .copy-btn {
      display: inline-block;
      padding: 6px 12px;
      font-size: 13px;
      font-weight: 700;
      line-height: 20px;
      color: #333;
      white-space: nowrap;
      vertical-align: middle;
      cursor: pointer;
      background-color: #eee;
      background-image: linear-gradient(#fcfcfc, #eee);
      border: 1px solid #d5d5d5;
      border-radius: 3px;
      user-select: none;
      outline: 0;
    }

    .highlight-wrap .copy-btn {
      transition: opacity .3s ease-in-out;
      opacity: 0;
      padding: 2px 6px;
      position: absolute;
      right: 4px;
      top: 8px;
    }

    .highlight-wrap:hover .copy-btn,
    .highlight-wrap .copy-btn:focus {
      opacity: 1
    }

    .highlight-wrap {
      position: relative;
    }
  </style>
  <script>
    $('.highlight').each(function (i, e) {
      var $wrap = $('<div>').addClass('highlight-wrap');
      $(e).after($wrap);
      $wrap.append($('<button>').addClass('copy-btn').append('Copy').on('click', function (e) {
        var code = $(this).parent().find('.code').find('.line').map(function (i, e) {
          return $(e).text();
        }).toArray().join('\n');
        var ta = document.createElement('textarea');
        var range = document.createRange(); //For Chrome
        var sel = window.getSelection(); //For Chrome
        var yPosition = window.pageYOffset || document.documentElement.scrollTop;
        ta.style.top = yPosition + 'px'; //Prevent page scroll
        ta.style.position = 'absolute';
        ta.style.opacity = '0';
        ta.value = code;
        ta.textContent = code; //For FireFox
        ta.contentEditable = true;
        ta.readOnly = false;
        document.body.appendChild(ta);
        range.selectNode(ta);
        sel.removeAllRanges();
        sel.addRange(range);
        ta.setSelectionRange(0, code.length);
        var result = document.execCommand('copy');
        
          if (result) $(this).text('Copied');
          else $(this).text('Copy failed');
        
        ta.blur(); //For iOS
        $(this).blur();
      })).on('mouseleave', function (e) {
        var $b = $(this).find('.copy-btn');
        setTimeout(function () {
          $b.text('Copy');
        }, 300);
      }).append(e);
    })
  </script>


  

</body>
</html>
